✅ 클로저

* 함수 안의 함수
  * ** 꼭 반환되는 함수만 뜻하는 것이 아니다.
* ** `자신의 스코프 외에서` 호출된 함수
  * 엄밀히 말해서 `아래는 클로저가 아니다.`
  * 하지만, 클로저와의 연관은 매우 깊다.
    ```js
    var a = 100;

    // 자신의 스코프에서 바로 호출되었기 때문에 클로저라고 볼 수 없다.
    (function () {
      console.log(a); // 상위 스코프인 a를 참조하긴 한다.
    })();
    ```
* 선언되었을 당시의 `환경(정보)을 기억`하는 함수
* ** 함수 `자신이 포함하는 스코프`들의 `변수`들을 추적하는 함수
  * ** `'값'`이 아니라 `'변수'`를 추적한다!!
* 변수들의 값을 복사하는 것이 아니라, `참조`를 저장한다.
  ```js
  const initCloser = (a) => {
    const b = 'b';
    /** 클로저 함수 */
    return (c) => {
      return a + b + c;
    }
  }
  const closer = initCloser('a');
  closer('c'); // abc
  ```
* 위 내용에서, closer는 실행 당시의 환경을 기억하고, 자신이 포함하는 스코프의 모든 변수들을 추적한다.

<hr />

* 비동기 처리, 이벤트 루프와 관련해서 아래 내용을 보자
  * 아래 경우, 태스크 큐에서 setTimeOut의 `콜백이 실행되는 시점에` 변수 i를 추적하기 때문에 10이 10번 출력된다.
    ```js
    let i;
    for (i = 0; i < 10; i++) {
      setTimeout(() => {
        console.log(i);
      }, 0);
    } // 10이 10번 출력
    ```
  * 하지만 아래와 같이 setTimeOut을 즉시실행함수로 감싸고, 이 즉시실행함수가 클로저로써 동작을 해 원하는 결과를 얻을 수 있다.
    ```js
    let i = 0;
    for (i = 0; i < 10; i++) {
      (function (num) {
        setTimeout(() => {
            console.log(num);
          }, 0);
      })(i);
    }
    ```