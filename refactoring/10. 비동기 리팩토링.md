# 10. 비동기 리팩토링

## 10.1 왜 비동기인가?

## 10.2 피라미드 운명 수정

### 10.2.1 포함 객체로 함수 추출

#### # 주의할 점 - 콜백함수의 this

* 객체에 속해져있는 `함수를 콜백으로 던질 경우`, `this 참조`를 잘 생각해야 한다.
* 무의식적으로 this를 `메서드를 가진 객체`로 `착각하기 쉽다.`
* (최종적으로 `누가 호출했는지`가 중요)
  ```javascript
  const obj = {
    inner: function () {
      console.log(this);
    }
  };

  obj.inner(); // { inner: [Function: inner] }
  setTimeout(obj.inner, 0); // ** 전역객체
  
  // this를 명시적으로 바인딩해준다.
  setTimeout(obj.inner.bind(obj), 0); // { inner: [Function: inner] }
  ```

### 10.2.2 비동기 프로그램 테스트

### 10.2.3 추가 테스트 고려사항

## 10.3 콜백과 테스트

### 10.3.1 CPS와 IoC 기본

### 10.3.2 콜백 스타일 테스트

## 10.4 프로미스

### 10.4.1 프로미스 인터페이스의 기본

### 10.4.2 프로미스의 생성 및 사용

### 10.4.3 프로미스 테스트

## 10.5 마무리