# 5. 기본적인 리팩토링 목표

#### # 리팩토링

* `품질을 향상`시키려고 `코드 동작을 변화하지 않고` 안전하게 코드를 변경하는 것

#### # 기본 기능의 구성요소 6가지

* 대규모(bulk) - (코드 분기, 코드 줄)
* 입력
* 출력
* 부가 작용
* this: 암시적 입력
* 비공개

## 5.1 대규모 함수

#### # 대규모 함수를 옹호하는 입장

* 너무 작은 수준의 함수를 비판하기도 한다. 하지만, `테스트 관점에서는` 여러개의 작은 함수들을 테스트 하는 것이 훨씬 쉽다.

## 5.2 입력

#### # 입력(매개변수)의 종류

1. `명시적` - 실제 호출에서 받게되는 매개변수
2. `암시적` - this
3. `비지역적` - 외부의 변수

* 위 3가지 중 `1, 2, 3` 순서로 비중을 둬야 한다.
* (특히, `3. 비지역적 입력은 없는 것이 좋다.`)

#### # options 매개변수

* 추가 매개변수는 호출 시, 코드를 줄일 수 있지만, 함수 내부가 복잡해진다.
  ```javascript
  function func(number, options) {
    if (options.a) {
      // ..
    }
    if (options.b) {
      // ..
    }
    // ..
  }
  ```
* `실제 필요한 단위`로, `실제 갖고 있는 내용`을 기준으로 받고, 이름을 정하는 것이 좋다.
* 아래 ES2015 문법을 사용는 것을 권장한다.
  ```javascript
  function print({str: str, count: count}) {
    // ...
  }

  // 아래는 축약
  function print({str, cpimt}) {
    // ...
  }
  ```

  #### # 정리

  * `입력 자체의 수`가 `적을수록` 좋다.
  * `비지역적` 입력이 `적을수록` 좋다.
  * this, 비지역적 `<<<<<<< 명시적`